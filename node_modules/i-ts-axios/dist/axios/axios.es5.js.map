{"version":3,"file":"axios.es5.js","sources":["../../src/helpers/util.ts","../../src/helpers/url.ts","../../src/helpers/data.ts","../../src/helpers/headers.ts","../../src/helpers/error.ts","../../src/core/xhr.ts","../../src/core/disptchRequest.ts","../../src/core/Interceptor.ts","../../src/core/Axios.ts","../../src/axios.ts"],"sourcesContent":["const toString = Object.prototype.toString\n\nexport function isDate(val: any): val is Date {\n    return toString.call(val) === '[object Date]'\n}\n\nexport function isObject(val: any): val is Object {\n    return val != null && typeof val === 'object'\n}\n\nexport function isPlainObject(val: any): val is Object {\n    return toString.call(val) === '[object Object]'\n}\n\nexport function extend<T, U>(to: T, from: U): T & U {\n    for (const key in from) {\n        ; (to as T & U)[key] = from[key] as any\n    }\n    return to as T & U\n}\n","import { isDate, isPlainObject } from './util'\n\nfunction encode(val: string): string {\n  return encodeURIComponent(val)\n    .replace('/%40/g', '@')\n    .replace('/%3A/ig', ':')\n    .replace('/%24/g', '$')\n    .replace('/%2C/ig', ',')\n    .replace('/%20/g', '+')\n    .replace('/%5B/g', '[')\n    .replace('/%5D/g', ']')\n}\n\nexport function buildURL(url: string, params?: any): string {\n  if (!params) return url\n  const parts: string[] = []\n  Object.keys(params).forEach(key => {\n    const val = params[key]\n    if (val === null || typeof val === 'undefined') return\n    let values = []\n    if (Array.isArray(val)) {\n      values = val\n      key += '[]'\n    } else {\n      values = [val]\n    }\n    values.forEach(val => {\n      if (isDate(val)) {\n        val = val.toISOString()\n      } else if (isPlainObject(val)) {\n        val = JSON.stringify(val)\n      }\n      parts.push(`${encode(key)}=${encode(val)}`)\n    })\n  })\n  let serializedParams = parts.join('&')\n  if (serializedParams) {\n    const markIndex = url.indexOf('#')\n    if (markIndex !== -1) {\n      url = url.slice(0, markIndex)\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams\n  }\n  return url\n}\n","import { isPlainObject } from './util'\n\nexport function transfromRequest(data: any): any {\n  if (isPlainObject(data)) return JSON.stringify(data)\n  return data\n}\n\nexport function transfromResponse(data: any): any {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data)\n    } catch (e) {\n      // do nothing\n    }\n  }\n  return data\n}\n","import { isPlainObject } from './util'\n\nfunction normalizeHeaderName(headers: any, normalizedName: string): void {\n  if (!headers) return\n  Object.keys(headers).forEach(name => {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = headers[name]\n      delete headers[name]\n    }\n  })\n}\n\nexport function processHeaders(headers: any, data: any): any {\n  normalizeHeaderName(headers, 'Content-Type')\n  if (isPlainObject(data)) {\n    if (headers && !headers['Content-Type']) {\n      headers['Content-Type'] = 'application/json;charset=utf-8'\n    }\n  }\n  return headers\n}\n\nexport function parseHeaders(headers: string): any {\n  let parsed = Object.create(null)\n  if (!headers) return parsed\n  headers.split('\\r\\n').forEach(line => {\n    let [key, val] = line.split(':')\n    key = key.trim().toLowerCase()\n    if (!key) return\n    if (val) val = val.trim()\n    parsed[key] = val\n  })\n  return parsed\n}\n","import { AxiosResponse, AxiosRequestConfig } from './../types'\n\nexport class AxiosError extends Error {\n  isAxiosError: boolean\n  config: AxiosRequestConfig\n  code?: string | null\n  request?: any\n  response?: AxiosResponse\n\n  constructor(\n    message: string,\n    config: AxiosRequestConfig,\n    code?: string | null,\n    request?: any,\n    response?: AxiosResponse\n  ) {\n    super(message)\n    this.config = config\n    this.code = code\n    this.request = request\n    this.response = response\n    this.isAxiosError = true\n    Object.setPrototypeOf(this, AxiosError.prototype)\n  }\n}\n\nexport function createError(\n  message: string,\n  config: AxiosRequestConfig,\n  code?: string | null,\n  request?: any,\n  response?: AxiosResponse\n): AxiosError {\n  const error = new AxiosError(message, config, code, request, response)\n  return error\n}\n","import { AxiosRequestConfig, AxiosPromise, AxiosResponse } from '../types'\nimport { parseHeaders } from '../helpers/headers'\nimport { createError } from '../helpers/error'\n\nexport default function xhr(config: AxiosRequestConfig): AxiosPromise {\n    return new Promise((resolve: any, reject: any) => {\n        const { data = null, url, method = 'get', headers, responseType, timeout } = config\n        const request = new XMLHttpRequest()\n        // 响应值类型\n        if (responseType) {\n            request.responseType = responseType\n        }\n        if (timeout) {\n            request.timeout = timeout\n        }\n        request.open(method.toLocaleUpperCase(), url!, true)\n        // 监听状态变化\n        request.onreadystatechange = function handleLoad() {\n            if (request.readyState !== 4) return\n            const responseHeaders = parseHeaders(request.getAllResponseHeaders())\n            const responseData = responseType !== 'text' ? request.response : request.responseText\n            const response: AxiosResponse = {\n                data: responseData,\n                status: request.status,\n                statusText: request.statusText,\n                headers: responseHeaders,\n                config,\n                request\n            }\n            if (request.status === 0) return\n            handleResponse(response)\n        }\n        // 错误处理\n        request.onerror = function handleError() {\n            reject(createError('Network Error', config, null, request))\n        }\n        // 超时处理\n        request.ontimeout = function handleTimeout() {\n            reject(createError(`Timeout of ${timeout} ms exceeded`, config, 'ECONNABORTED', request))\n        }\n\n        Object.keys(headers).forEach(name => {\n            if (data === null && name.toLowerCase() === 'content-type') {\n                delete headers[name]\n            } else {\n                request.setRequestHeader(name, headers[name])\n            }\n        })\n        request.send(data)\n\n        function handleResponse(response: AxiosResponse): void {\n            if (response.status >= 200 && response.status < 300) {\n                resolve(response)\n            } else {\n                reject(\n                    createError(\n                        `Request failed with status code ${response.status}`,\n                        config,\n                        null,\n                        request,\n                        response\n                    )\n                )\n            }\n        }\n    })\n}\n","import { AxiosRequestConfig, AxiosPromise, AxiosResponse } from '../types'\nimport { buildURL } from '../helpers/url'\nimport { transfromRequest, transfromResponse } from '../helpers/data'\nimport { processHeaders } from '../helpers/headers'\nimport xhr from './xhr'\n\nexport default function dispatchRequest(config: AxiosRequestConfig): AxiosPromise {\n  processConfig(config)\n  return xhr(config).then(res => {\n    return transformResponseData(res)\n  })\n}\n\nfunction processConfig(config: AxiosRequestConfig): void {\n  config.url = transformURL(config)\n  config.headers = transformRequestHeaders(config)\n  config.data = transformRequestData(config)\n}\n\nfunction transformURL(config: AxiosRequestConfig): string {\n  const { url, params } = config\n  return buildURL(url!, params)\n}\n\nfunction transformRequestData(config: AxiosRequestConfig): any {\n  return transfromRequest(config.data)\n}\n\nfunction transformRequestHeaders(config: AxiosRequestConfig): any {\n  const { data, headers = {} } = config\n  return processHeaders(headers, data)\n}\n\nfunction transformResponseData(res: AxiosResponse): AxiosResponse {\n  res.data = transfromResponse(res.data)\n  return res\n}\n","import { RejectedFn, ResolvedFn } from '../types'\n\ninterface Interceptor<T> {\n  resolved: ResolvedFn<T>\n  rejected?: RejectedFn<T>\n}\n\nexport class InterceptorManagers<T> {\n  private interceptor: Array<Interceptor<T> | null>\n  constructor() {\n    this.interceptor = []\n  }\n\n  use(resolved: ResolvedFn<T>, rejected?: RejectedFn<T>): number {\n    this.interceptor.push({\n      resolved,\n      rejected\n    })\n    return this.interceptor.length - 1\n  }\n\n  eject(id: number): void {\n    if (this.interceptor[id]) {\n      this.interceptor[id] = null\n    }\n  }\n\n  forEach(fn: (interceptor: Interceptor<T>) => void): void {\n    this.interceptor.forEach(interceptor => {\n      if (interceptor !== null) {\n        fn(interceptor)\n      }\n    })\n  }\n}\n","import {\n  AxiosPromise,\n  AxiosRequestConfig,\n  AxiosResponse,\n  Method,\n  RejectedFn,\n  ResolvedFn\n} from '../types'\nimport dispatchRequest from './disptchRequest'\nimport { InterceptorManagers } from './Interceptor'\n\ninterface Interceptor {\n  // 请求拦截器\n  request: InterceptorManagers<AxiosRequestConfig>\n  // 响应拦截器\n  response: InterceptorManagers<AxiosResponse>\n}\n\ninterface PromiseChain<T> {\n  resolved: ResolvedFn<T> | ((config: AxiosRequestConfig) => AxiosPromise)\n  rejected?: RejectedFn<T>\n}\n\nexport default class Axios {\n  // 拦截器\n  interceptors: Interceptor\n  constructor() {\n    this.interceptors = {\n      request: new InterceptorManagers<AxiosRequestConfig>(),\n      response: new InterceptorManagers<AxiosResponse>()\n    }\n  }\n\n  request(url: any, config?: any): AxiosPromise {\n    if (typeof url === 'string') {\n      if (!config) config = {}\n      config.url = url\n    } else {\n      config = url\n    }\n    // 调用链\n    const chain: PromiseChain<any>[] = [\n      {\n        resolved: dispatchRequest,\n        rejected: undefined\n      }\n    ]\n    this.interceptors.request.forEach(interceptor => {\n      chain.unshift(interceptor)\n    })\n    this.interceptors.response.forEach(interceptor => {\n      chain.push(interceptor)\n    })\n    //\n    let promise = Promise.resolve(config)\n    while (chain.length) {\n      const { resolved, rejected } = chain.shift()!\n      promise = promise.then(resolved, rejected)\n    }\n    return promise\n  }\n\n  get(url: string, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithoutData('get', url, config)\n  }\n\n  delete(url: string, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithoutData('delete', url, config)\n  }\n\n  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('post', url, data, config)\n  }\n\n  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('put', url, data, config)\n  }\n\n  patch(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('patch', url, data, config)\n  }\n\n  _requestMethodWithoutData(\n    method: Method,\n    url: string,\n    config?: AxiosRequestConfig\n  ): AxiosPromise {\n    return this.request(\n      Object.assign(config || {}, {\n        url,\n        method\n      })\n    )\n  }\n\n  _requestMethodWithData(\n    method: Method,\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig\n  ): AxiosPromise {\n    return this.request(\n      Object.assign(config || {}, {\n        url,\n        method,\n        data\n      })\n    )\n  }\n}\n","import Axios from './core/Axios'\nimport { extend } from './helpers/util'\nimport { AxiosInstance } from './types'\n\nfunction createInstance() {\n  const context = new Axios()\n  // 这样instance就指向了request方法，且上下文指向context，所以可以直接以 instance(option) 方式调用\n  // Axios.prototype.request 内对第一个参数的数据类型判断，使我们能够以 instance(url, option) 方式调用\n  const instance = Axios.prototype.request.bind(context)\n  extend(instance, context)\n  return instance as AxiosInstance\n}\n\nconst axios = createInstance()\n\nexport default axios\n"],"names":[],"mappings":"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"}